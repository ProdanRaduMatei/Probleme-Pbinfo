#include <bits/stdc++.h>
using namespace std; ifstream fin("email.in"); ofstream fout("email.out"); char m[1001][51]; char r[1001][51]; int vec[1001]; bool domegal(int i , int j) { int n = 0; while(m[i][n]!='@') n++; n++; int e = 0; while(m[j][e]!='@') e++; e++; for(int q = n , h = e ; m[i][q]!='\0' && m[j][h]!='\0' ; ++q , h++) if(m[i][q]!=m[j][h]) return 0; return 1; } int main() { int i = 0; while(fin >> m[i]) i++; int n = i; int c = 0; for(int i = 0 ; i < n ; ++i) { int cnt = 1; if(m[i][0]!='\0') { for(int j = i + 1 ; j < n ; ++j) if(domegal(i , j)) cnt++ , m[j][0]='\0'; int q = 0; while(m[i][q]!='@') q++; q++; int t=0; while(m[i][q]!='\0') r[c][t]=m[i][q], q++ , t++; vec[c]=cnt; c++; m[i][0]='\0'; } } for(int i = 0 ; i < c ; ++i) for(int j = i + 1 ; j < c ; ++j) if(strcmp(r[i] , r[j]) > 0) swap(r[i] , r[j]) , swap(vec[i] , vec[j]); fout << c << '\n'; int maxi=0; for(int i = 0 ; i < c ; ++i) if(vec[i]>maxi) maxi=vec[i]; while(maxi) { for(int i = 0 ; i < c ; ++i) { if(vec[i]==maxi) fout << r[i] << ' ' << vec[i] << '\n'; } maxi--; } return 0; }
